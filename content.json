{"pages":[{"title":"About me","text":"","link":"/about/me.html"}],"posts":[{"title":"Invoking how to import GeoJSON data into MongoDB","text":"Outline Get ready for your GeoJSON data Convert GeoJSON data to JsonArray data for importation Use mongodb command line tool to import data Finally, import the data successfully and find them Tutorial1. Get ready for your GeoJSON data GeoJSON is a format for encoding a variety of geographic data structures. A GeoJSON object may represent a geometry, a feature, or a collection of features. GeoJSON supports the following geometry types: Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, and GeometryCollection. The codes below demonstrate you a simple GeoJSON file, which is constructed with 4 pointâ€™s features. You could copy the text and paste into your text-editor and save it with .geojson surfix, and load the file you saved into GIS application like QGIS or ArcMap. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182{ &quot;type&quot;: &quot;FeatureCollection&quot;, &quot;name&quot;: &quot;earthquakes&quot;, &quot;crs&quot;: { &quot;type&quot;: &quot;name&quot;, &quot;properties&quot;: { &quot;name&quot;: &quot;urn:ogc:def:crs:OGC:1.3:CRS84&quot; } }, &quot;features&quot;: [ { &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: { &quot;DateTime&quot;: &quot;1970/01/04 17:00:40.20&quot;, &quot;Latitude&quot;: 24.139, &quot;Longitude&quot;: 102.503, &quot;Depth&quot;: 31.0, &quot;Magnitude&quot;: 7.5, &quot;MagType&quot;: &quot;Ms&quot;, &quot;NbStations&quot;: 90, &quot;Gap&quot;: null, &quot;Distance&quot;: null, &quot;RMS&quot;: 0.0, &quot;Source&quot;: &quot;NEI&quot;, &quot;EventID&quot;: 1970010440 }, &quot;geometry&quot;: { &quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [102.503, 24.139] } }, { &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: { &quot;DateTime&quot;: &quot;1970/01/06 05:35:51.80&quot;, &quot;Latitude&quot;: -9.628, &quot;Longitude&quot;: 151.458, &quot;Depth&quot;: 8.0, &quot;Magnitude&quot;: 6.2, &quot;MagType&quot;: &quot;Ms&quot;, &quot;NbStations&quot;: 85, &quot;Gap&quot;: null, &quot;Distance&quot;: null, &quot;RMS&quot;: 0.0, &quot;Source&quot;: &quot;NEI&quot;, &quot;EventID&quot;: 1970010640 }, &quot;geometry&quot;: { &quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [151.458, -9.628] } }, { &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: { &quot;DateTime&quot;: &quot;1970/01/08 17:12:39.10&quot;, &quot;Latitude&quot;: -34.741, &quot;Longitude&quot;: 178.568, &quot;Depth&quot;: 179.0, &quot;Magnitude&quot;: 6.1, &quot;MagType&quot;: &quot;Mb&quot;, &quot;NbStations&quot;: 59, &quot;Gap&quot;: null, &quot;Distance&quot;: null, &quot;RMS&quot;: 0.0, &quot;Source&quot;: &quot;NEI&quot;, &quot;EventID&quot;: 1970010840 }, &quot;geometry&quot;: { &quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [178.568, -34.741] } }, { &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: { &quot;DateTime&quot;: &quot;1970/01/10 12:07:08.60&quot;, &quot;Latitude&quot;: 6.825, &quot;Longitude&quot;: 126.737, &quot;Depth&quot;: 73.0, &quot;Magnitude&quot;: 6.1, &quot;MagType&quot;: &quot;Mb&quot;, &quot;NbStations&quot;: 91, &quot;Gap&quot;: null, &quot;Distance&quot;: null, &quot;RMS&quot;: 0.0, &quot;Source&quot;: &quot;NEI&quot;, &quot;EventID&quot;: 1970011040 }, &quot;geometry&quot;: { &quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [126.737, 6.825] } } ]} 2. Convert GeoJSON data to JsonArray data for importationThe key thing to import GeoJSON data into Mongodb is the file convertion from GeoJSON to JsonObject or JsonArray. In addition, there are a lot of ways to do so, but, I want to tell you the best way by using tools call jq. ( jq Official Website here!) When you finish your download, you could do the convertion by using the command below. Importantly, you must put your own configuration text to replace the text between the square brackets and remove the square brackets finally. Then, try it yourself. 1jq --compact-output &quot;.features&quot; '[Your GeoJSON File]' &gt; '[GeoJSON File converted]' 3. Use mongodb command line tool to import dataIn this step, you should check your system environment config and make sure the mongodb client or command line tools has been installed well firstly. Then, you could use the command below and replace the content between square brackets as you do well in previous step. 1mongoimport -u '[Your MongoDB User]' --password '[Your Password]' --db '[Database to Import]' -c '[Collection to Import]' --file '[Path to Your GeoJSON File]' --jsonArray '[MongoDB Connection String]' Here is the positive result that tells you which mongodb has been connected and how many documents have been imported. 12connected to: mongodb://***********4 document(s) imported successfully. 0 document(s) failed to import. 4. Finally, import the data successfully and find themUse MongoDB Client to find or to query the data from the collection you have been created. And, here is the result. References &amp; DocumentationsGeoJSON Documentationhttps://geojson.org/geojson-spec MongoDB geospatialhttps://www.mongodb.com/docs/manual/geospatial-queries/#std-label-geospatial-geojson jq-tools Offical Websitehttps://stedolan.github.io/jq/","link":"/2023/02/22/p20230222/"}],"tags":[{"name":"GIS, GeoJSON, MongoDB, Data importation","slug":"GIS-GeoJSON-MongoDB-Data-importation","link":"/tags/GIS-GeoJSON-MongoDB-Data-importation/"}],"categories":[]}